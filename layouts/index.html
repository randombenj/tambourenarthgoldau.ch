<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambourenverein Arth-Goldau</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
        }
        .active-link {
            color: #7d172d;
        }
        .nav-link:hover {
            color: #7d172d;
        }
        .highlight {
            background-color: white;
            padding: 0em 0em;
            display: inline;
            box-shadow: 0.4em 0 0 white, -0.4em 0 0 white;
            line-height: 1.4;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <!-- Container for the entire page -->
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Header and Navigation -->
        <header class="py-8">
            <nav class="flex justify-between items-center max-h-12">
                <!-- Logo -->
                <div class="text-3xl font-extrabold text-gray-900">
                    <img src="/logo.svg" alt="Tambourenverein Arth-Goldau Logo" class="h-20 w-auto mt-10">
                </div>
                <!-- Desktop Navigation Links -->
                <div class="hidden md:flex items-center space-x-8 lg:space-x-12">
                    <a href="#" class="nav-link text-lg font-medium text-gray-600">Auftritte</a>
                    <a href="#" class="nav-link text-lg font-medium text-gray-600">News</a>
                </div>
                <!-- Mobile menu button (optional, for smaller screens if needed) -->
                 <div class="md:hidden">
                    <button class="text-gray-900 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Hero Section -->
            <section class="relative py-12 md:py-24">
                <div class="flex flex-col md:flex-row items-center">
                    <!-- Left Column: Text Content -->
                    <div class="md:w-1/2 lg:w-5/12 text-center md:text-left relative z-20">
                        <p class="text-lg font-semibold text-[#7d172d] tracking-wider highlight">WIR SIND</p>
                        <h1 class="text-3xl sm:text-4xl lg:text-6xl font-extrabold text-gray-900 mt-2 relative z-30 highlight">
                            <span class="text-[#7d172d]">TAMBOURENVEREIN</span> <span class="text-[#a7a7a7]">ARTH-GOLDAU</span>
                        </h1>
                        <p class="mt-4 text-xl text-gray-600"></p>
                        <button href="mailto:tambourenarthgoldau@gmail.com" class="mt-8 px-6 py-2 border-2 border-gray-900 text-gray-900 font-bold rounded-sm hover:bg-gray-900 hover:text-white transition duration-300 bg-white">
                            KONTAKT
                        </button>
                    </div>

                    <!-- Right Column: Image -->
                    <div class="md:w-1/2 lg:w-7/12 mt-12 md:mt-0 md:pl-8 lg:pl-16 relative z-10">
                        <div class="relative lg:mr-8">
                            <!-- Replace this src with your desired image -->
                            <img src="/tambouren-arth-goldau.jpg" alt="Tambourenverein Arth-Goldau" class="rounded-lg shadow-2xl w-full">
                        </div>
                    </div>
                </div>
                <!-- Blue background accent -->
                <div class="hidden md:block absolute top-0 right-0 h-full w-1/3 bg-[#7d172d] -z-10"></div>
            </section>

            <!-- About Me Section -->
            <section class="py-16 md:py-32">
                <div class="flex flex-col md:flex-row items-center gap-12 lg:gap-20">
                    <!-- Left Column: Image -->
                    <div class="md:w-5/12 relative">
                         <!-- Blue square accent -->
                        <div class="absolute -bottom-4 -left-4 w-24 h-24 bg-[#7d172d] -z-10"></div>
                        <!-- Replace this src with your desired image -->
                        <img src="/about.jpg" alt="Tambourenverein Arth-Goldau" class="rounded-lg shadow-xl w-full">
                    </div>

                    <!-- Right Column: Text Content -->
                    <div class="md:w-7/12 text-center md:text-left">
                        <p class="text-sm font-semibold text-gray-500 tracking-widest">WILLKOMMEN</p>
                        <h2 class="text-4xl lg:text-5xl font-bold text-gray-900 mt-2">Über Uns</h2>
                        <p class="mt-6 text-lg text-gray-600 leading-relaxed">
                            Der Tambourenverein Arth-Goldau wurde 1993 gegründet.
                            Wir sind eine Gruppe von rhythmusbegeisterten Kollegen die gerne zusammen Musik machen.

                            Mit der Musikschule wollen wir die Jugend musikalisch fördern und neue Tambouren für den Verein ausbilden.
                            Das Trommeln ist ein tolles Hobby und ein guter Ausgleich zur Schule und dem Arbeitsleben.
                        </p>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- Nächste Auftritte Section -->
    <section class="py-16 md:py-32 bg-gray-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-start gap-12 lg:gap-20">
                <!-- Left Column: Events Content -->
                <div class="md:w-7/12">
                    <div class="text-left mb-12">
                        <p class="text-sm font-semibold text-gray-500 tracking-widest">TERMINE</p>
                        <h2 class="text-4xl lg:text-5xl font-bold text-gray-900 mt-2">Nächste Auftritte</h2>
                    </div>

                    <div id="events-container" class="space-y-4">
                        <!-- WILL BE FILLED DYNAMICALLY -->
                        <div class="py-4 border-b border-gray-200">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-sm text-gray-500 mb-1">Momentan sind keine Auftritte geplant</p>
                                    <p class="text-lg font-medium text-gray-900">...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Image -->
                <div class="md:w-5/12 relative">
                    <!-- Red square accent -->
                    <div class="absolute -top-4 -right-4 w-24 h-24 bg-[#7d172d] z-10"></div>
                    <!-- Events image -->
                    <img src="/events.jpg" alt="Tambourenverein Arth-Goldau Auftritte" class="rounded-lg shadow-xl w-full relative z-20">
                </div>
            </div>
        </div>
    </section>

    <!-- News Section -->
    <section class="py-16 md:py-32 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-left mb-12">
                <p class="text-sm font-semibold text-gray-500 tracking-widest">AKTUELLES</p>
                <h2 class="text-4xl lg:text-5xl font-bold text-gray-900 mt-2">News</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {{ range first 4 (where site.RegularPages "Type" "posts") }}
                <article class="bg-gray-50 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 h-80 flex flex-col">
                    {{ if .Params.featured_image }}
                    <div class="h-28 bg-gray-200 flex-shrink-0">
                        <img src="{{ .Params.featured_image }}" alt="{{ .Title }}" class="w-full h-full object-cover">
                    </div>
                    {{ else }}
                    <div class="h-28 bg-[#7d172d] flex-shrink-0">
                        <!-- No text in placeholder -->
                    </div>
                    {{ end }}

                    <div class="p-6 flex-1 flex flex-col">
                        <time class="text-sm text-gray-500 font-medium">
                            {{ .Date.Format "2. January 2006" }}
                        </time>
                        <h3 class="text-lg font-bold text-gray-900 mt-2 mb-3 line-clamp-2">
                            <a href="{{ .Permalink }}" class="hover:text-[#7d172d] transition-colors">
                                {{ .Title }}
                            </a>
                        </h3>
                        <p class="text-gray-600 text-sm leading-relaxed line-clamp-3 mb-2">
                            {{ .Content | plainify | truncate 40 "..." }}
                        </p>
                        <a href="{{ .Permalink }}" class="inline-block text-[#7d172d] font-semibold text-sm hover:underline">
                            Weiterlesen →
                        </a>
                    </div>
                </article>
                {{ end }}
            </div>

            <div class="text-center mt-12">
                <a href="/posts/" class="px-8 py-3 border-2 border-[#7d172d] text-[#7d172d] font-bold rounded-sm hover:bg-[#7d172d] hover:text-white transition duration-300">
                    ALLE NEWS ANZEIGEN
                </a>
            </div>
        </div>
    </section>

    <script type="text/javascript">
        window.addEventListener("DOMContentLoaded", async () => {
            try {
                const response = await fetch(`https://www.googleapis.com/calendar/v3/calendars/tambourenarthgoldau@gmail.com/events?key=AIzaSyAZWXK4_d9R-Ify_FBGJ_qxLrmfFYL11dA&timeMin=${new Date().toISOString()}&orderBy=startTime&singleEvents=true`);
                if (!response.ok) {
                    console.error('Failed to fetch events:', response);
                    return;
                }
                const events = await response.json();

                if (events.items && events.items.length > 0) {
                    // Filter out events with "Vereinsprobe" or "Probe" in the title
                    const filteredEvents = events.items.filter(e =>
                        !e.summary.includes('Vereinsprobe') &&
                        !e.summary.includes('Probe')
                    );

                    if (filteredEvents.length > 0) {
                        // Limit to first 4 events
                        const limitedEvents = filteredEvents.slice(0, 4);

                        document.getElementById("events-container").innerHTML = limitedEvents.map((e) =>
                            `<div class="py-4 border-b border-gray-200 event">
                                <div class="flex justify-between items-center">
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-500 mb-1">
                                            ${e.start.date ?
                                                new Date(e.start.date).toLocaleDateString("de-CH", {weekday: 'short', month: 'short', day: 'numeric'}) :
                                                new Date(e.start.dateTime).toLocaleDateString("de-CH", {weekday: 'short', month: 'short', day: 'numeric'})
                                            }
                                        </p>
                                        <h3 class="text-lg font-medium text-gray-900 mb-1">${e.summary}</h3>
                                        ${e.description ? `<p class="text-sm text-gray-600">${e.description}</p>` : ''}
                                    </div>
                                    <div class="text-right ml-4">
                                        <p class="text-sm text-gray-500">
                                            ${e.start.date ?
                                                'Ganztägig' :
                                                new Date(e.start.dateTime).toLocaleTimeString("de-CH", {hour: '2-digit', minute: '2-digit'}) +
                                                ' - ' +
                                                new Date(e.end.dateTime).toLocaleTimeString("de-CH", {hour: '2-digit', minute: '2-digit'})
                                            }
                                        </p>
                                    </div>
                                </div>
                            </div>`
                        ).join("\n");
                    }
                }
            } catch (error) {
                console.error('Error fetching calendar events:', error);
            }
        }, false);
    </script>

</body>
</html>

